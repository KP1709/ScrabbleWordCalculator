echo "Running Cypress tests before pushing code..."

pnpx cypress run
RESULT=$?

if [ $RESULT -ne 0 ]; then
  echo "❌ Cypress tests failed. Git push aborted."
  exit 1
fi

echo "✅ All Cypress tests passed. Proceeding with git push."
exit 0